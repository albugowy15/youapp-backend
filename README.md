# YouApp - Backend Technical Test

This repository contains the backend for YouApp, a RESTful API and Socket.IO-based application. Built with NestJS, it leverages MongoDB for database management and provides comprehensive documentation and testing to support development.

## Features

- **NestJS Framework** for building scalable server-side applications.
- **REST API** and **Socket.IO** for real-time communication.
- **MongoDB** as the main database.
- **Swagger Documentation** available at `http://localhost:3000/api`.
- **Docker Support** with `Dockerfile` and `docker-compose.yaml` for simplified deployment.
- **Postman Collection** available for quick setup and testing.
- **Testing**: Unit and End-to-End (e2e) tests for robust code verification.

## Getting Started

### Prerequisites

- **Node.js** (v20 or higher)
- **pnpm** (package manager)
- **Docker** (optional, for containerized setup)
- **Cloudinary** account (for upload image api)

### Installation

1. Clone the repository:

   ```bash
   git clone https://github.com/albugowy15/youapp-backend.git
   cd youapp-backend
   ```

2. Install dependencies:

   ```bash
   pnpm install
   ```

3. Environment Setup:

   - Duplicate .env.example as .env.
   - Fill in necessary environment variables, including MongoDB and cloudinary configuration.

4. Running with Docker:

   - Start the application and MongoDB using Docker Compose:

     ```bash
     docker-compose up
     ```

   - Alternatively, you can build the Docker image:

     ```bash
     docker build -t youapp-backend .
     ```

5. Running Locally:
   - Start MongoDB locally or specify a MongoDB connection string in .env.
   - Run the application:
     ```bash
     pnpm start
     ```

### Documentation

Access the API documentation generated by Swagger at `http://localhost:3000/api`.

### Import Postman Collection

1. Download the provided Postman collection.
2. Import it into Postman to explore and test the API endpoints.

## Testing

The project includes unit and end-to-end (e2e) tests.
Run unit tests:

```bash
pnpm test
```

Run e2e tests:

```bash
pnpm test:e2e
```

## Real-Time Socket Testing

To test socket.io functionality:

1. Start the backend server.
2. Open the following HTML files in your browser (found in the `client` directory):

   - socket-client1.html
   - socket-client2.html
   - socket-client3.html

3. Send messages from each client. You should see the messages appear across all connected clients in real time.

## Development

Run in watch mode for automatic restart on code changes:

```bash
pnpm start:dev
```
